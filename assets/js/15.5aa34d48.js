(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{384:function(e,t,_){"use strict";_.r(t);var o=_(41),i=Object(o.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"configuration-syntax"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#configuration-syntax"}},[e._v("#")]),e._v(" Configuration syntax")]),e._v(" "),_("h2",{attrs:{id:"waf"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#waf"}},[e._v("#")]),e._v(" "),_("code",[e._v("waf")])]),e._v(" "),_("ul",[_("li",[e._v("syntax: "),_("code",[e._v("waf [ on | off ];")])]),e._v(" "),_("li",[e._v("default: "),_("code",[e._v("off")])]),e._v(" "),_("li",[e._v("context: server")])]),e._v(" "),_("p",[e._v("Whether to enable this module.")]),e._v(" "),_("h2",{attrs:{id:"waf-rule-path"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#waf-rule-path"}},[e._v("#")]),e._v(" "),_("code",[e._v("waf_rule_path")])]),e._v(" "),_("ul",[_("li",[e._v("syntax: "),_("code",[e._v("waf_rule_path dir;")])]),e._v(" "),_("li",[e._v("default: —")]),e._v(" "),_("li",[e._v("context: server")])]),e._v(" "),_("p",[e._v("The absolute path to the directory where the rule file is located, and must end with "),_("code",[e._v("/")]),e._v(".")]),e._v(" "),_("h2",{attrs:{id:"waf-mult-mount"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#waf-mult-mount"}},[e._v("#")]),e._v(" "),_("code",[e._v("waf_mult_mount")])]),e._v(" "),_("ul",[_("li",[e._v("syntax: "),_("code",[e._v("waf_mult_mount [ on | off ];")])]),e._v(" "),_("li",[e._v("default"),_("code",[e._v("off")])]),e._v(" "),_("li",[e._v("context: server")])]),e._v(" "),_("p",[e._v("Perform a multi-stage check, when "),_("code",[e._v("nginx.conf")]),e._v(" exists address rewriting (such as "),_("code",[e._v("rewrite")]),e._v(" directive) is recommended to enable, and vice versa is recommended to disable.")]),e._v(" "),_("p",[e._v("This configuration is used for compatibility with the\n"),_("a",{attrs:{href:"https://nginx.org/en/docs/http/ngx_http_rewrite_module.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ngx_http_rewrite_module"),_("OutboundLink")],1),e._v("\nmodule, see "),_("a",{attrs:{href:"guide/compatibility#ngx_http_rewrite_module"}},[e._v("module compatibility")]),e._v(" for details.")]),e._v(" "),_("div",{staticClass:"custom-block warning"},[_("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),_("p",[e._v("There is no guarantee that this configuration will completely resolve compatibility issues,\nand it is recommended to test it after enabling it.")])]),e._v(" "),_("h2",{attrs:{id:"waf-mode"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#waf-mode"}},[e._v("#")]),e._v(" "),_("code",[e._v("waf_mode")])]),e._v(" "),_("ul",[_("li",[e._v("syntax: "),_("code",[e._v("waf_mode mode_type ...;")])]),e._v(" "),_("li",[e._v("default: —")]),e._v(" "),_("li",[e._v("context: server")])]),e._v(" "),_("p",[e._v("Specify the working mode of the firewall, specifying at least one mode and up to eight modes.")]),e._v(" "),_("p",[_("code",[e._v("mode_type")]),e._v(" has the following values (not case sensitive):")]),e._v(" "),_("ul",[_("li",[e._v("GET: Start the inspection process when "),_("code",[e._v("Http.Method=GET")]),e._v(".")]),e._v(" "),_("li",[e._v("HEAD: Start the inspection process when "),_("code",[e._v("Http.Method=HEAD")]),e._v(".")]),e._v(" "),_("li",[e._v("POST: Start the inspection process when "),_("code",[e._v("Http.Method=POST")]),e._v(".")]),e._v(" "),_("li",[e._v("PUT: Start the inspection process when "),_("code",[e._v("Http.Method=PUT")]),e._v(".")]),e._v(" "),_("li",[e._v("DELETE: Start the inspection process when "),_("code",[e._v("Http.Method=DELETE")]),e._v(".")]),e._v(" "),_("li",[e._v("MKCOL: Start the check process when "),_("code",[e._v("Http.Method=MKCOL")]),e._v(".")]),e._v(" "),_("li",[e._v("COPY: Start the inspection process when "),_("code",[e._v("Http.Method=COPY")]),e._v(".")]),e._v(" "),_("li",[e._v("MOVE: Start the inspection process when "),_("code",[e._v("Http.Method=MOVE")]),e._v(".")]),e._v(" "),_("li",[e._v("OPTIONS: Start the inspection process when "),_("code",[e._v("Http.Method=OPTIONS")]),e._v(".")]),e._v(" "),_("li",[e._v("PROPFIN: Start the inspection process when "),_("code",[e._v("Http.Method=PROPFIN")]),e._v(".")]),e._v(" "),_("li",[e._v("PROPPATCH: Start the inspection process when "),_("code",[e._v("Http.Method=PROPPATCH")]),e._v(".")]),e._v(" "),_("li",[e._v("LOCK: Start the inspection process when "),_("code",[e._v("Http.Method=LOCK")]),e._v(".")]),e._v(" "),_("li",[e._v("UNLOCK: Start the inspection process when "),_("code",[e._v("Http.Method=UNLOCK")]),e._v(".")]),e._v(" "),_("li",[e._v("PATCH: Start the inspection process when "),_("code",[e._v("Http.Method=PATCH")]),e._v(".")]),e._v(" "),_("li",[e._v("TRAC: Start the inspection process when "),_("code",[e._v("Http.Method=TRAC")]),e._v(".")]),e._v(" "),_("li",[e._v("IP: Enable IP address inspecting rules.")]),e._v(" "),_("li",[e._v("URL: Enable URL inspecting rules.")]),e._v(" "),_("li",[e._v("RBODY: Enable request body inspecting rules.")]),e._v(" "),_("li",[e._v("ARGS: Enable ARGS inspecting rules.")]),e._v(" "),_("li",[e._v("UA: Enable UA inspecting rules.")]),e._v(" "),_("li",[e._v("COOKIE: Enable COOKIE inspecting rules.")]),e._v(" "),_("li",[e._v("REFERER: Enable REFERER inspecting rules.")]),e._v(" "),_("li",[e._v("CC: Enable 'Anti Challenge Collapsar'.")]),e._v(" "),_("li",[e._v("STD: Equivalent to "),_("code",[e._v("GET POST CC IP URL ARGS RBODY UA")]),e._v(".")]),e._v(" "),_("li",[e._v("FULL: In any case, the inspection process will be started and all inspection rules will be enabled.")])]),e._v(" "),_("blockquote",[_("p",[e._v("Note: The mode of "),_("code",[e._v("CC")]),e._v(" is independent of other modes, and whether it takes effect or not is not affected by other modes. A typical situation such as the "),_("code",[e._v("URL")]),e._v(" mode will be affected by the "),_("code",[e._v("GET")]),e._v(" mode, because if the "),_("code",[e._v("GET")]),e._v(" mode is not used, the check will not be started when "),_("code",[e._v("Http.Method=GET")]),e._v(", and the URL will naturally not be inspected, but "),_("code",[e._v("CC")]),e._v(" mode will not be similarly affected.")])]),e._v(" "),_("h2",{attrs:{id:"waf-cc-deny-limit"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#waf-cc-deny-limit"}},[e._v("#")]),e._v(" "),_("code",[e._v("waf_cc_deny_limit")])]),e._v(" "),_("ul",[_("li",[e._v("syntax: "),_("code",[e._v("waf_cc_deny_limit rate duration;")])]),e._v(" "),_("li",[e._v("default: —")]),e._v(" "),_("li",[e._v("context: server")])]),e._v(" "),_("p",[e._v("Declare the maximum request rate of the same IP and the blocking time after the rate is exceeded.")]),e._v(" "),_("p",[_("code",[e._v("rate")]),e._v(": The maximum number of requests per minute for the same IP.\n"),_("code",[e._v("duration")]),e._v(": The number of minutes to block after exceeding the "),_("code",[e._v("rate")]),e._v(".")])])}),[],!1,null,null,null);t.default=i.exports}}]);